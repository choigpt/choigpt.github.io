
"smart_sources:_posts/2026-02-24-buddkit-trouble-shooting-11.md": {"path":"_posts/2026-02-24-buddkit-trouble-shooting-11.md","embeddings":{"TaylorAI/bge-micro-v2":{"vec":[-0.06428052,-0.03665167,0.03399878,-0.07887796,0.02981518,-0.03463672,-0.03271142,0.04297592,0.0094209,0.00752097,0.02115075,-0.02047268,0.01859934,0.02010326,0.05973136,0.00867199,0.02534547,-0.07275777,-0.05813326,0.0017894,0.06296411,-0.02704415,0.0346121,-0.08858513,0.03037502,-0.00075384,-0.00187108,-0.04017294,-0.02258442,-0.14329633,-0.02195985,-0.02335353,0.06232578,-0.02498724,0.00632319,-0.04292526,0.00189784,0.03996753,-0.04437287,0.01229513,0.02008394,0.03531206,0.02108389,-0.02921501,0.00194385,-0.06791828,-0.02175326,-0.05134388,-0.02172876,-0.00609947,-0.03128524,-0.09444993,0.04325574,0.00641889,0.05843847,-0.01959642,0.00555538,0.04811911,0.0515715,0.04041473,0.055507,0.04197465,-0.20761548,0.09181446,0.00510762,-0.0064253,-0.00264247,0.03462429,0.08056697,0.02290795,-0.00110216,0.02643316,0.01520329,0.05990935,-0.00724278,-0.02121722,0.00127145,-0.04305444,-0.00045518,-0.04969177,-0.02194248,0.03884898,-0.0073563,-0.0677366,-0.04607217,-0.02763723,0.02143368,-0.0312895,-0.00466543,0.02073188,-0.03968795,-0.00736662,0.07592177,0.00694868,-0.05861866,0.03085832,-0.04724079,0.02462597,-0.05953155,0.10781959,-0.08085624,0.04012581,0.01284078,-0.04270534,0.06131711,-0.06691826,-0.04972987,-0.05344636,-0.0109823,-0.02812878,0.00531539,-0.01474993,0.10526554,-0.04137487,0.03355271,-0.02266553,0.0750176,0.04063312,0.02336402,0.01623841,0.01165262,0.00248618,0.03627098,0.00087543,0.01373147,0.0074312,0.02060451,0.04129013,0.02196278,0.03441433,0.04896038,0.05985627,-0.05370476,0.00436566,-0.00469552,0.01855433,0.00159448,-0.02463514,0.02393939,-0.06234361,-0.0745378,-0.09185579,0.00713047,-0.05664898,-0.04242422,0.05107613,-0.0434735,0.03515123,-0.00046936,-0.03922712,-0.04577173,0.00713425,0.04754207,-0.03004044,0.01610097,0.03002336,0.07229031,0.11335683,-0.04771734,-0.04378454,0.03163052,-0.07769416,-0.07447568,0.04780396,0.05604606,-0.11010565,-0.00422457,0.01898926,0.0131033,-0.06171689,-0.00965526,0.03671479,0.02348399,-0.04235034,0.02579417,-0.00179702,0.01448586,-0.0122731,0.01684063,0.04223576,0.03393775,0.00922632,-0.04064038,0.06804001,0.0067153,-0.05264184,0.01036493,0.00100207,0.08724483,-0.00499994,-0.06913676,-0.03377574,-0.01499344,0.02074259,0.03440281,0.00283139,0.01888915,-0.02806669,0.08647039,-0.07615438,0.11549449,0.00519994,-0.02620441,0.0078296,-0.03756048,-0.0290805,0.00113468,-0.02633398,-0.01758661,0.0450458,-0.04684355,0.02056483,0.03525083,-0.02179401,-0.05033212,-0.04752158,-0.00464597,0.07432718,0.00409255,0.03228731,-0.03083701,0.03490035,-0.0070603,-0.25424561,-0.00586967,0.03242549,-0.02572848,-0.04649411,-0.0278147,-0.0166483,-0.00416524,0.13232377,0.11801084,0.10012387,0.01617259,-0.03279402,0.00105575,0.01858732,0.01681533,-0.0122976,-0.0493187,0.00887838,0.00983372,-0.01361193,0.0295988,-0.03185938,-0.03838959,0.026453,0.02124584,0.10338071,0.06341318,0.00790472,-0.05882881,0.11610267,0.07813388,-0.01296131,-0.09532303,0.06698491,0.03300836,-0.00747305,-0.00512283,-0.01472814,-0.02967905,-0.03351305,0.06808306,-0.01848705,-0.11706288,-0.04850143,-0.06690642,-0.04043255,-0.05319434,-0.03179276,0.04900224,-0.00719265,0.04667128,0.03968701,0.0642115,0.05668617,-0.0149045,-0.03035858,0.00055751,0.00875924,0.01223599,-0.01955804,0.00517851,-0.0638018,-0.02586615,0.00293069,0.02053854,0.01038778,0.03269135,-0.03252,0.00033588,-0.05465601,0.15714121,0.02151816,0.02679418,0.05903456,-0.02708089,-0.02689461,-0.02867988,0.04664274,0.0009378,0.04077754,-0.01646002,0.07510876,0.06607019,-0.00193114,0.04486058,0.00069798,0.01269874,0.06958838,-0.04225212,-0.08067384,-0.02334896,-0.05115216,-0.0572632,0.05431194,0.00132759,-0.28963071,0.04390886,0.02438571,0.00737415,-0.00099244,0.05956705,0.08374318,-0.03892136,-0.07661407,0.03147438,-0.03758129,0.06974105,-0.02319919,-0.01502821,0.00164311,-0.01035544,-0.01104814,-0.00506589,0.06296046,-0.03284973,0.03209836,0.06735764,0.1837727,-0.01597498,-0.01992319,0.04398314,0.01210479,0.00998718,0.06225282,0.04088527,-0.0588774,-0.0183289,0.09434427,-0.00163424,-0.00142612,0.03381768,-0.02799404,0.02853025,-0.01458065,0.03373883,-0.05334973,0.05165433,0.02787233,0.00772629,0.09194876,-0.02559697,-0.08901393,-0.04258738,0.00655003,-0.02207313,0.00438584,-0.06055649,-0.02350473,0.03287652,-0.05099509,0.05915634,0.04874467,-0.02443676,-0.02936172,-0.00794695,0.0077375,-0.04894008,0.01823575,0.01457931,0.00839012],"last_embed":{"hash":"6v3c5x","tokens":506}}},"last_read":{"hash":"6v3c5x","at":1771997909858},"class_name":"SmartSource","last_import":{"mtime":1771942686061,"size":11717,"at":1771997908146,"hash":"6v3c5x"},"blocks":{"#---frontmatter---":[1,5],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽":[7,292],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#개요":[9,14],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#개요#{1}":[11,14],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#시스템 구조":[15,36],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#시스템 구조#채팅 메시지 흐름":[17,36],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#시스템 구조#채팅 메시지 흐름#{1}":[19,36],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#문제 상세":[37,218],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#문제 상세#P2 메시지 전송 성공률 0.9% — 테스트 데이터 불일치":[39,61],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#문제 상세#P2 메시지 전송 성공률 0.9% — 테스트 데이터 불일치#{1}":[41,61],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#문제 상세#채팅방 목록 조회 슬로우 쿼리 — 상관 서브쿼리":[62,107],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#문제 상세#채팅방 목록 조회 슬로우 쿼리 — 상관 서브쿼리#{1}":[64,107],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#문제 상세#P4 WebSocket 메시지 왕복 측정 불가 — Redis 리스너 미등록":[108,149],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#문제 상세#P4 WebSocket 메시지 왕복 측정 불가 — Redis 리스너 미등록#{1}":[110,149],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#문제 상세#`findLatest` N+1 쿼리":[150,178],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#문제 상세#`findLatest` N+1 쿼리#{1}":[152,178],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#문제 상세#CallerRunsPolicy — 비동기 큐 포화 시 WebSocket 스레드 블로킹":[179,201],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#문제 상세#CallerRunsPolicy — 비동기 큐 포화 시 WebSocket 스레드 블로킹#{1}":[181,201],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#문제 상세#로그 I/O 병목":[202,218],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#문제 상세#로그 I/O 병목#{1}":[204,218],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#부하 테스트 결과 (3차 최종)":[219,250],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#부하 테스트 결과 (3차 최종)#3M+ 메시지, 800VU → 400VU로 스케일업 후 최종 수치":[221,236],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#부하 테스트 결과 (3차 최종)#3M+ 메시지, 800VU → 400VU로 스케일업 후 최종 수치#{1}":[223,236],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#부하 테스트 결과 (3차 최종)#Phase별 결과 요약":[237,250],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#부하 테스트 결과 (3차 최종)#Phase별 결과 요약#{1}":[239,250],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#남은 병목점":[251,264],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#남은 병목점#P5 스파이크 (800VU) — DB 커넥션 풀 포화":[253,258],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#남은 병목점#P5 스파이크 (800VU) — DB 커넥션 풀 포화#{1}":[255,258],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#남은 병목점#WebSocket 메시지 왕복 1.5% 실패":[259,264],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#남은 병목점#WebSocket 메시지 왕복 1.5% 실패#{1}":[261,264],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#수정 내역 요약":[265,281],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#수정 내역 요약#{1}":[267,281],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#교훈":[282,292],"#채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽#교훈#{1}":[284,292]},"outlinks":[],"metadata":{"title":"채팅 도메인 — 상관 서브쿼리·Redis 리스너 미등록·N+1이 만든 성능 절벽","date":"2026-02-24","tags":["#MySQL","#Redis","#JPA","#WebSocket","#STOMP","#성능최적화","#트러블슈팅","#Java","#채팅","#k6"]},"task_lines":[],"tasks":{},"codeblock_ranges":[[19,31],[41,46],[66,79],[83,86],[92,104],[112,122],[126,129],[133,146],[154,159],[163,173],[181,184],[190,196],[206,211]],"last_embed":{"hash":"6v3c5x","at":1771997909858}},